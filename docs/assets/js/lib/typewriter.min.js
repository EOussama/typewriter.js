"use strict";function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Typewriter=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n);try{if(!e||"string"!=typeof e)throw new TypeError("Invalid element selector");var r=document.querySelector(e);if(!r)throw new TypeError("No elements match the selector “".concat(e,"”"));this.target=r,this.text=t.text||r.textContent,this.tick=t.tick||300,this.typing=!1,this.cursor=Object.assign({index:0,type:"stick",blink:!0},_objectSpread({},t.cursor)),this.typeResolve,this.deleteResolve,this.timer,this.cache={}}catch(e){throw e}}return _createClass(n,[{key:"type",value:function(){var o=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.cache=_objectSpread({},i,{text:e}),new Promise(function(n){o.typeResolve=n,o.typing=!0;!function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.delay||0;0<t.length&&o.typing?o.timer=setTimeout(function(){o.target.textContent+=t[0],o.cache=_objectSpread({},i,{tick:r,text:t.slice(1)}),e(t.slice(1),i.tick||o.tick)},r):(o.typing=!1,clearTimeout(o.timer),n(o))}(e)})}},{key:"stop",value:function(){var t=this;return new Promise(function(e){t.typing=!1,clearTimeout(t.timer),t.typeResolve&&t.typeResolve(t),t.deleteResolve&&t.deleteResolve(t),e(t)})}},{key:"resume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.cache,r=t.text,n=t.chars,o=_objectWithoutProperties(t,["text","chars"]);return r?this.type(r,Object.assign(_objectSpread({},o),_objectSpread({},e))):this.delete(n,Object.assign(_objectSpread({},o),_objectSpread({},e)))}},{key:"delete",value:function(){var o=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.cache=_objectSpread({},i,{chars:e}),new Promise(function(n){o.deleteResolve=n,o.typing=!0;!function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.delay||0;0<t&&o.typing?o.timer=setTimeout(function(){o.target.textContent=o.target.textContent.slice(0,o.target.textContent.length-1),o.cache=_objectSpread({},i,{tick:r,chars:t-1}),e(t-1,i.tick||o.tick)},r):(o.typing=!1,clearTimeout(o.timer),n(o))}(e)})}},{key:"clear",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e){setTimeout(function(){t.stop().then(function(){t.target.textContent="",t.cursor.index=0,e(t)})},r.delay||0)})}}]),n}();