"use strict";function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Typewriter=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,r);try{if(!e||"string"!=typeof e)throw new TypeError("Invalid element selector");var n=document.querySelector(e);if(!n)throw new TypeError("No elements match the selector “".concat(e,"”"));this.target=n,this.text=t.text||n.textContent,this.tick=t.tick||300,this.typing=!1,this.deleting=!1,this.cursor=Object.assign({index:0,type:"stick",blink:!0},_objectSpread({},t.cursor)),this.typeResolve,this.typeTimer,this.deleteResolve,this.deleteTimer,this.cache={}}catch(e){throw e}}return _createClass(r,[{key:"type",value:function(){var o=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.stopType(),this.cache=_objectSpread({},i,{text:e}),new Promise(function(r){o.typeResolve=r;!function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.delay||0;0<t.length?o.typeTimer=setTimeout(function(){o.deleting&&o.stopDelete(),o.typing=!0,o.target.textContent+=t[0],o.cache=_objectSpread({},i,{tick:n,text:t.slice(1)}),e(t.slice(1),i.tick||o.tick)},n):(o.typing=!1,clearTimeout(o.typeTimer),r(o))}(e)})}},{key:"stop",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e){setTimeout(function(){t.stopType(),t.stopDelete(),e(t)},n.delay||0)})}},{key:"stopType",value:function(){var t=this;return new Promise(function(e){t.typing=!1,t.typeTimer&&clearTimeout(t.typeTimer),t.deleteResolve&&t.deleteResolve(t),e(t)})}},{key:"stopDelete",value:function(){var t=this;return new Promise(function(e){t.deleting=!1,t.deleteTimer&&clearTimeout(t.deleteTimer),t.deleteResolve&&t.deleteResolve(t),e(t)})}},{key:"resume",value:function(){var i=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(o){console.log(c),setTimeout(function(){var e=i.cache,t=e.text,n=e.chars,r=_objectWithoutProperties(e,["text","chars"]);console.log({text:t,chars:n,config:c}),o(t?i.type(t,Object.assign(_objectSpread({},r),_objectSpread({},c,{delay:0}))):i.delete(n,Object.assign(_objectSpread({},r),_objectSpread({},c,{delay:0}))))},c.delay||0)})}},{key:"delete",value:function(){var o=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.stopDelete(),this.cache=_objectSpread({},i,{chars:e}),new Promise(function(r){o.deleteResolve=r;!function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.delay||0;0<t?o.deleteTimer=setTimeout(function(){o.typing&&o.stopType(),o.deleting=!0,o.target.textContent=o.target.textContent.slice(0,o.target.textContent.length-1),o.cache=_objectSpread({},i,{tick:n,chars:t-1}),e(t-1,i.tick||o.tick)},n):(o.deleting=!1,clearTimeout(o.deleteTimer),r(o))}(e)})}},{key:"clear",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e){setTimeout(function(){t.stop().then(function(){t.target.textContent="",t.cursor.index=0,e(t)})},n.delay||0)})}}]),r}();